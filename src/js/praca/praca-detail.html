<div layout="column" class="limite" id="praca">
  <div flex id="praca_header">
    <img ng-src="{{ $ctrl.praca.header_img }}" style="width: 100%"/>
    <md-fab-speed-dial
      show-authed="true"
      md-direction="down"
      id="praca-speed-dial"
      class="md-scale md-fab-top-right">
      <md-fab-trigger>
        <md-button
          aria-label="menu"
          class="md-fab md-warn">
          <md-tooltip
            md-direction="top"
            md-visible="tooltipVisible">
            Menu
          </md-tooltip>
          <md-icon>menu</md-icon>
        </md-button>
      </md-fab-trigger>
      <md-fab-actions>
        <div ng-repeat="item in $ctrl.userMenu">
          <md-button
            aria-label="{{ item.name }}"
            class="md-fab md-raised md-mini"
            ng-click="$ctrl.showDialog($event, item.dialog)">
            <md-tooltip md-direction="left"
              md-visible="tooltipVisible"
              md-autohide="false">
              {{ item.name }}
            </md-tooltip>
            <md-icon aria-label="{{ item.name }}">{{item.icon}}</md-icon>
          </md-button>
        </div>
      </md-fab-actions>
    </md-fab-speed-dial>
  </div>
  <!-- Info&Bio -->
  <div id="container-info" layout-gt-xs="row">
    <div flex-gt-xs="35" layout-padding md-whiteframe="3" class="nome">
      <h2>{{ $ctrl.praca.nome }}</h2>
      <p>{{ $ctrl.praca.situacao_descricao }}</p>
      <p>Área Total da Praça: {{ $ctrl.praca.modelo_descricao }}</p>
    </div>

    <div flex-gt-xs="65" layout-padding md-whiteframe="3" class="bio">
      <p>{{ $ctrl.praca.bio }}</p>
    </div>
  </div>
  <div style="height: 48px">
    <div class="tab-pracas">
      <md-content class="limite layout-column">
        <div class="">
          <md-tabs md-selected="tabIntSelected" md-dynamic-height md-border-bottom class="">
            <md-tab label="Inicio" scroll="header"></md-tab>
            <md-tab label="Agenda" scroll="#container-agenda" offset="48"></md-tab>
            <md-tab label="Fotos" scroll="#container-imagens" offset="48"></md-tab>
            <md-tab ng-if="$ctrl.praca.situacao==i" label="Grupo Gestor" scroll="#container-grupo" offset="48"></md-tab>
            <md-tab ng-if="$ctrl.praca.situacao!=i" label="Unidade Gestora Local" scroll="#container-unidade" offset="48"></md-tab>
            <md-tab label="Localização" scroll="#container-localizacao" offset="48"></md-tab>
          </md-tabs>
        </div>
      </md-content>
    </div>
  </div>
  <!-- Agenda -->
  <div id="container-agenda" layout-padding class="agenda" layout-align="start center">
    <div class="layout-row title">
      <md-icon>insert_invitation</md-icon>
      <h1 flex>Agenda</h1>
    </div>
    <div class="activities-log" layout-gt-xs="row">
      <div class="event-list">
        <event-previewer ng-repeat="event in $ctrl.praca.agenda
          | filter: { data_inicio: $ctrl.parseDate($ctrl.myDate) }
          | orderBy: 'event.data_inicio'
          | limitTo: 4"
          event="event">
        </event-previewer>
      </div>

      <div flex class="calendar">
        <md-calendar ng-click="$ctrl.dateSet = true" ng-model="$ctrl.myDate"></md-calendar>
      </div>
    </div>
  </div>
  <!-- Imagens -->
  <div id="container-imagens" layout-gt-xs="row" flex>
    <div flex layout-padding class="info gridListdemoDynamicTiles" md-whiteframe="3">
      <div class="layout-row title">
        <md-icon>photo_camera</md-icon>
        <h1 flex>Fotos</h1>
      </div>
      <md-grid-list
        md-cols="1" md-cols-sm="2" md-cols-md="3" md-cols-gt-md="6"
        md-row-height-gt-md="1:1" md-row-height="4:3"
        md-gutter="8px" md-gutter-gt-sm="4px">
        <md-grid-tile ng-repeat="objPhoto in arrPhotos"
          md-rowspan="{{objPhoto.span.row}}"
          md-colspan="{{objPhoto.span.col}}"
          md-colspan-sm="1"
          md-colspan-xs="1"
          ng-class="objPhoto.background">
          <img width="135%" class="materialboxed" data-caption="{{objPhoto.title}}" ng-src="{{objPhoto.url}}">
          <md-grid-tile-footer><h3>{{objPhoto.title}}</h3></md-grid-tile-footer>
        </md-grid-tile>
      </md-grid-list>
    </div>
  </div>
  <!-- GrupoGestor -->
  <div ng-if="$ctrl.praca.situacao==i" id="container-grupo" layout-gt-xs="row">
    <div flex layout-padding class="info" md-whiteframe="3">
      <div class="layout-row title">
        <md-icon>group</md-icon>
        <h1 flex>Grupo Gestor</h1>
      </div>
      <div ng-show="!$ctrl.praca.grupo_gestor">
        <p>Os dados sobre o Grupo Gestor ainda não foram inseridos nesta Praça.</p>
      </div>
    </div>
  </div>
  <!-- Parceiros -->
  <div ng-if="$ctrl.praca.situacao==i" id="container-parceiros" layout-gt-xs="row">
    <div flex-gt-xs="30" layout-padding class="info" md-whiteframe="3">
      <div class="layout-row title">
        <md-icon>people</md-icon>
        <h1 flex>Parceiros da Praça</h1>
      </div>
      <div ng-show="!$ctrl.praca.parceiros">
        <p>Ainda não existem Parceiros para esta Praça. <b>:(</b></p>
      </div>
    </div>
  </div>
  <!-- UnidadeGestoraLocal -->
  <div ng-if="$ctrl.praca.situacao!=i" id="container-unidade" layout-gt-xs="row">
    <div flex layout-padding class="info">
      <div class="layout-row title">
        <md-icon>location_city</md-icon>
        <h1 flex>Unidade Gestora Local</h1>
      </div>
      <div ng-show="!$ctrl.praca.unidade_gestora">
        <p>Os dados sobre a Unidade Gestora ainda não foram inseridos nesta Praça.</p>
      </div>
    </div>
  </div>
  <!-- Localização -->
  <div id="container-localizacao" layout-gt-xs="row" class="localizacao">
    <div flex-gt-xs="30" layout-padding class="info" md-whiteframe="3">
      <div class="layout-row title">
        <md-icon>place</md-icon>
        <h1 flex>Localização</h1>
      </div>
      <p>{{$ctrl.praca.logradouro}}</p>
      <p>{{$ctrl.praca.municipio}} | {{$ctrl.praca.uf | uppercase}}
      <p>Aberto todos os dias de 8h às 22h.</p>
      <p>Mais informações</p>
    </div>
    <div id="map" flex md-whiteframe="3">
      <leaflet style="z-index: -1" id="mapPane" width="100%" height="300px" lf-center="geoLoc.center"
        defaults="geoLoc.defaults" markers="geoLoc.markers"></leaflet>
    </div>
  </div>
</div>